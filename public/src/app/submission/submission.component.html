<app-navbar></app-navbar>

{{project | json }}


<section class="hero is-dark is-bold">
  <div class="hero-body">
    <div *ngIf="hackathon" class="container hackTop">
      <h1  class="title">{{hackathon.name}}</h1>
      <h2 class="subtitle">
          Deadline: {{hackathon.deadline | date: 'medium'}}
        </h2>
        <h2 *ngIf="hackathon.timeLeft && hackathon.timeLeft != 0" class="subtitle is-pulled-right">
            Time left to submit your entry: <span class="timer">{{hackathon.timeLeft | async}}</span>
          </h2>
      <h2 class = "subtitle is-pulled-right" *ngIf="notJoinedMessage">{{notJoinedMessage}}</h2>
    </div>
    <div *ngIf="doesNotExistMessage">
      <h1 class="title">The hackathon you are looking for does not exist in our database.</h1>
    </div>
  </div>
</section>

<section *ngIf="!canSubmit">
<button class="button">Click here to join this hackathon!</button>

</section>

<section class="section" *ngIf="canSubmit" class="section">
  
 
<form [formGroup]="projForm" (submit)='hackEntry()'>
  <div class="field">
    <div class="control has-icons-left has-icons-right">
      <input class="input" [ngClass]="{'is-success':title.valid, 'is-danger': titleDanger}" type="text"  formControlName="title" placeholder="Project title" id="title">
      <span class="icon is-small is-left">
        <i class="fa fa-cubes"></i>
      </span>
      <span *ngIf="title.valid" class="icon is-small is-right">
        <i class="fa fa-check"></i>
      </span>
      <p *ngIf="titleReq" class="help is-danger">A project title is required</p>
      <p *ngIf="titleLen" class="help is-danger">Project titles must consist of 5 - 50 characters</p>
    </div>
  </div>

  <div class="field">
    <div class="control has-icons-left has-icons-right">
      <input class="input" [ngClass]="{'is-success':gitUrl.valid, 'is-danger': gitDanger}" type="text" formControlName="gitUrl" placeholder="Github url" value="https://github.com/">
      <span class="icon is-small is-left">
        <i class="fa fa-github"></i>
      </span>
      <span *ngIf="gitUrl.valid" class="icon is-small is-right">
        <i class="fa fa-check"></i>
      </span>
      <p *ngIf="gitReq" class="help is-danger">A Github url is required</p>
      <p *ngIf="gitMatch" class="help is-danger">A valid Github url is required</p>
    </div>
  </div>

  <div class="field">
    <div class="control has-icons-left has-icons-right">
      <input class="input" [ngClass]="{'is-success':vidUrl.valid, 'is-danger':vidDanger}" type="text" formControlName="vidUrl"  placeholder="Video url" value="https://youtu.be/" >
      <span class="icon is-small is-left">
        <i class="fa fa-youtube"></i>
      </span>
      <span *ngIf="vidUrl.valid" class="icon is-small is-right">
        <i class="fa fa-check"></i>
      </span>
      <p *ngIf="vidReq" class="help is-danger">A YouTube url is required</p>
      <p *ngIf="vidMatch" class="help is-danger">A valid YouTube url is required</p>    
    </div>
  </div>

  <div class="field">
    <div class="control">
      <textarea class="textarea" [ngClass]="{'is-success': description.valid, 'is-danger':descDanger}" formControlName="description" placeholder="Description"></textarea>
      <p *ngIf="descReq" class="help is-danger">A description is required</p>
      <p *ngIf="descLen" class="help is-danger">A description of at least 30 characters is required</p>    
    </div>
  </div>

  <div class="field is-grouped">
      <div class="control">
        <button class="button is-medium is-dark" [disabled]="!projForm.valid"><span *ngIf="update">Update project</span><span *ngIf="!update">Submit project</span></button>

      </div>
      
      <div class="control">
        <button class="button is-medium" type="button">Cancel</button>
      </div>
    </div>
  


</form>

</section>
